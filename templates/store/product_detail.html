{% extends "partials/base.html" %}
{% load static %}

{% block title %}
  {{product.title_meta_title}}
{% endblock title %}
    
{% block content %}
{% load crispy_forms_tags %}



<!-- {% crispy review_form %} -->

<style>
  ul,li{
     list-style: none;
  }
  /* body {
    color: #000000;
    font-family: Sans-Serif;
    padding: 30px;
    background-color: #f6f6f6;
  } */
  
  a {
    text-decoration: none;
    color: #000000;
  }
  
  a:hover {
    color: #222222
  }
  
  /* Dropdown */
  
  .dropdown {
    position: relative;
    display: block;
    text-align: center;
    line-height: 150%;
    font-size: .85em;
  }
  
  .dd-button {
    display: inline-block;
    border: 1px solid gray;
    border-radius: 4px;
    padding: 10px 30px 10px 20px;
    background-color: #ffffff;
    cursor: pointer;
    white-space: nowrap;
    font-family: poppins;
  }
  
  
  .dd-button:hover {
    background-color: #eeeeee;
  }
  
  
  .dd-input {
    display: none;
  }
  
  .dd-menu {
    padding: 0;
    margin: 0;
    list-style-type: none;
    width: 350px;
    z-index: 1;
    overflow-y: scroll;
    height: 300px;
  }
  
  .dd-input + .dd-menu {
    display: none;
  } 
  
  .dd-input:checked + .dd-menu {
    display: block;
  } 
  
  .dd-menu li {
    cursor: pointer;
    white-space: nowrap;
  }
  
  .dd-menu li:hover {
    background-color: #f6f6f6;
  }
  
  .dd-menu li a {
    display: block;
    margin: -10px -20px;
    padding: 10px 20px;
  }
  
  .dd-menu li.divider{
    padding: 0;
    border-bottom: 1px solid #cccccc;
  }
  
  .dd-menuf {
    padding: 0;
    margin: 0;
    list-style-type: none;
    width: 100%;
    text-align: center;
    margin-top: 10px;
  }
  
  .dd-input + .dd-menuf {
    display: none;
  } 
  
  .dd-input:checked + .dd-menuf {
    display: block;
  } 
  
  .dd-menuf li {
    cursor: pointer;
    white-space: nowrap;
  }
  
  .dd-menuf li:hover {
    background-color: #f6f6f6;
  }
  
  .dd-menuf li a {
    display: block;
    margin: -10px -20px;
    padding: 10px 20px;
  }
  
  .dd-menuf li.divider{
    padding: 0;
    border-bottom: 1px solid #cccccc;
  }
  .modal-backdrop {
  z-index: -1000;
}


* {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
.modalDialog {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: rgba(0, 0, 0, 0.8);
    z-index: 99999;
    opacity:0;
    -webkit-transition: opacity 100ms ease-in;
    -moz-transition: opacity 100ms ease-in;
    transition: opacity 100ms ease-in;
    pointer-events: none;
}
.modalDialog:target {
    opacity:1;
    pointer-events: auto;
}
.modalDialog > div {
    max-width: 800px;
    width: 90%;
    position: relative;
    margin: 10% auto;
    padding: 20px;
    border-radius: 3px;
    background: #fff;
}
.close {
    font-family: Arial, Helvetica, sans-serif;
    background: #b331ff;
    color: #fff;
    line-height: 25px;
    position: absolute;
    right: -12px;
    text-align: center;
    top: -10px;
    width: 34px;
    height: 34px;
    text-decoration: none;
    font-weight: bold;
    -webkit-border-radius: 50%;
    -moz-border-radius: 50%;
    border-radius: 50%;
    -moz-box-shadow: 1px 1px 3px #000;
    -webkit-box-shadow: 1px 1px 3px #000;
    box-shadow: 1px 1px 3px #000;
    padding-top: 5px;
}
.close:hover {
    background: #b331ff;
    color: white;
}

.modalDialog2 {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: rgba(0, 0, 0, 0.8);
    z-index: 99999;
    opacity:0;
    -webkit-transition: opacity 100ms ease-in;
    -moz-transition: opacity 100ms ease-in;
    transition: opacity 100ms ease-in;
    pointer-events: none;
}
.modalDialog2:target {
    opacity:1;
    pointer-events: auto;
}
.modalDialog2 > div {
    max-width: 500px;
    width: 70%;
    position: relative;
    margin: 10% auto;
    padding: 20px;
    border-radius: 3px;
    background: #fff;
}

.fa-star{
  color: #a2ff00;
}

.button-inc{
  margin-top: 4px;
  background: none;
  border-radius: 50%;
}

.button-inc:hover{
  background: #e0e0e07a;
  margin-top: 4px;
  border-radius: 50%;
}
.discounted{
  color: #d70000;
  text-decoration: line-through;
  font-weight: 500;
}
.gz-coins{
  background: #0c0c0c;
  width: fit-content;
  padding: 0 1rem;
  border-radius: 3px;
}
.gz-coins > span{
  -webkit-text-fill-color: transparent;
  background: linear-gradient(to right top, #1555b5, #008de9, #00bdda, #00e58f, #a2ff00);
  background-image: linear-gradient(to right top, #1555b5, #008de9, #00bdda, #00e58f, #a2ff00);  background-clip: text;
  -webkit-background-clip: text;
  font-weight: 700;
  font-size: medium;
  width: fit-content;
}
.title-small{
  font-size: small;
}
.prop-title{
  font-weight: 600;
  font-size: large;
  color: black;
}
.choice-input{
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  border: 1px solid #dbdbdb;
  border-radius: 6px;
  color: #000;
  cursor: pointer;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-direction: column;
  flex-direction: column;
  font-size: .875rem;
  font-weight: 500;
  padding: 0;
  text-align: center;
  text-transform: none;
  width: auto;
  color: black;
  width: 100px;
  height: 50px;
  justify-content: center;
}
.choice-input input{
  display: none
}
input[type="radio"]:checked + .choice-input{
  border: 1px solid black;
  box-shadow: 0 0 0 3px lime;
}
.choice_input_label{
  padding: 0 1rem;
  cursor: pointer;
}
.selected {
  background-color: #94d92f;
  color: white;
  font-weight: 600;}
  
.product-accordion-panel{
  width: 70%;
  padding: 0 1rem;
}
.product-attribute-group-name {
  font-size: larger;
  font-weight: 700 !important;
  margin-top: 5px;
}
.product-attribute-redesign .product-attribute-table-redesign {
  margin-bottom: 5px;
  margin-top: 16px;
  padding-left: 1rem;
}

  .product-attribute-redesign .product-attribute-table-redesign tr {
      font-size: .875rem;
  }
  .product-attribute-redesign .product-attribute-table-redesign tr {
      {% comment %} border-bottom: 40px solid #b5b5b5; {% endcomment %}
      font-size: 15px;
  }

  .product-attribute-redesign .product-attribute-table-redesign tr th {
      width: 30%;
  }
  .product-attribute-redesign .product-attribute-table-redesign tr th {
      font-weight: 600;
      padding-left: 15px;
      width: 20%;
      /* text-align: justify; */
      background-color: #f9f9f9;
      text-align: left;
      border-bottom: 1px solid #b5b5b5;
  }

  .product-detail-redesign .product-attribute-table-redesign th {
      min-width: 150px;
  }
  .product-detail-redesign .product-attribute-table-redesign th {
      background-color: #f9f9f9;
      min-width: 130px;
      padding: 12px 8px;
  }
  .product-attribute-redesign .product-attribute-table-redesign tr td {
      padding: 12px 8px;
      width: 608px;
      font-weight: 300;
      border-bottom: 1px solid #b5b5b5;
  }

@media screen and (max-width: 768px){
  .product-attribute-redesign .product-attribute-table-redesign tr td{
    width: 50%;
  }
  .product-attribute-redesign .product-attribute-table-redesign tr th{
    width: 50%;
  }
  .product-accordion-panel{
    width: auto;
  }
  .zoomimg_wrapper {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    position: relative;
    display: flex;
    justify-content: center;
  }
.zoomimg_wrapper img {
  touch-action: manipulation;
  max-width: 100%; /* Ensure image doesn't exceed its container */
  z-index: -1;
    position: inherit;
    -webkit-overflow-scrolling: touch;
    border: 1px solid #94d92f;
  }
  .repture{
  font-size: large;
  padding: 0;
  text-wrap: wrap;
  }
}
.sliderImg{
  max-width: 400px;
  overflow-X: scroll;
  overflow-y: hidden;
  flex-wrap: nowrap;
  padding: 1rem 0;
}
.shop_single_natabmenu .nav-link{
  flex: none;
}
.arez{
  display: flex !important;
  flex-direction: column;
  justify-content: space-between;
  height: inherit;

}
.shop_single_natabmenu .nav-link{
  height: 100%
}
.sliderImg::-webkit-scrollbar{
  width: 2px
}
section{
  padding: unset;
}
.repture{
  text-wrap: nowrap;
}
</style>

{% block hhead %}
<link rel="canonical" href="https://gameszone.tn/{{product.meta_title}}/">
{% endblock hhead %}
  <!-- <div class="body_content_wrapper position-relative"> -->
    <!-- Custom Shop Category List Menu -->
    <section class="p0 bb1 overflow-hidden" >
      <div class="container">
        <div class="row"></div>
      </div>
    </section>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Product",
        "name": "{{ product.title }}",
        "description": "{{ product.description|escapejs|safe }}",
        "sku": "{{ product.sku }}",
        "image": [
          "{{ product.image.url }}"{% for g in product_images %}, "{{ g.image.url }}"{% endfor %}
        ],
        "url": "{{ request.build_absolute_uri }}",
        "brand": {
          "@type": "Brand",
          "name": "{{ product.brand.title }}"
        },
        "offers": {
          "@type": "Offer",
          "priceCurrency": "TND",
          "price": "{{ product.price }}",
          "availability": "{% if product.in_stock %}https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}",
          "itemCondition": "https://schema.org/NewCondition",
          "shippingDetails": {
            "@type": "OfferShippingDetails",
            "shippingRate": {
              "@type": "MonetaryAmount",
              "value": "7.00",
              "currency": "TND"
            },
            "shippingDestination": {
              "@type": "DefinedRegion",
              "name": "Tunisia"
            },
            "deliveryTime": {
              "@type": "ShippingDeliveryTime",
              "handlingTime": {
                "@type": "QuantitativeValue",
                "minValue": 1,
                "maxValue": 2,
                "unitCode": "DAY"
              }
            },
            "shippingLabel": "Standard shipping",
            "freeShippingThreshold": {
              "@type": "MonetaryAmount",
              "value": "500.00",
              "currency": "TND"
            }
          },
          "returnPolicy": {
            "@type": "ReturnPolicy",
            "returnsAccepted": "http://schema.org/True",
            "refundType": "http://schema.org/ExchangeRefund",
            "restockingFee": {
              "@type": "MonetaryAmount",
              "value": "0.00",
              "currency": "TND"
            },
            "returnShippingFees": "http://schema.org/Seller"
          },
          "seller": {
            "@type": "Organization",
            "name": "Game zone ariana"
          }
        }
      }
      </script>
      
      
      
      
      
    <!-- Inner Page Breadcrumb -->
    <section class="inner_page_breadcrumb">
      <div class="container">
        <div class="row">
          <div class="col-xl-6">
            <div class="breadcrumb_content">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url "store:home" %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url "store:shop" %}">Produit</a></li>
                
                {% if product.brand %}
                  <li class="breadcrumb-item"><a href="{% url "store:brand-shop" meta_title=product.brand.meta_title %}">{{product.brand}}</a></li>
                {% endif %}
                <li class="breadcrumb-item active" aria-current="page"><a href="{% url "store:product-detail" meta_title=product.meta_title %}">{{product.title|title|truncatechars:20}}</a></li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Shop Single Content -->
    <section class="shop-single-content pb80 pt0 ovh">
      <div class="container">
        <div class="row">
          <div class="col-xl-4">
            <div class="shop_single_natabmenu h-100">
              <div class="arez">
                <div class="tab-content mx-auto" id="v-pills-tabContent">

                  
                  {% for g in product_images %}
                   <div class="tab-pane fade" id="v-pills-{{g.gid}}" role="tabpanel" aria-labelledby="v-pills-{{g.gid}}-tab">
                    <div class="shop_single_navmenu_content mb-3 text-center">
                      <a class="product_popup popup-img" href="{{g.image.url}}" title="{{ product_name }}">
                        <!-- Added title attribute for accessibility -->
                         </a>
                          <div class="zoomimg_wrapper">
                            <img
                             class="zoom-img product-detail-img"
                             id="zoom_02"
                             src="{{g.image.url}}"
                             data-zoom-image="{{g.image.url}}"
                             width="350"
                             height="150"
                             alt="{{g.alt}}"
                            />
                       </div>
                      </div>
                   </div>
                 {% endfor %}

                  <div class="tab-pane fade show active" id="v-pills-{{product.pid}}" role="tabpanel" aria-labelledby="v-pills-{{product.pid}}-tab">
                    <div class="shop_single_navmenu_content mb-3 text-center">
                       <div class=""> 
                         <img class="zoom-img product-detail-img" id="zoom_03" src="{{product.image.url}}" alt="{{product.alt}}" style="border-radius: 10px;" data-zoom-image="{{product.image.url}}" width="350" height="150" alt="Shop Single Image"/> 
                      </div>
                    </div>
                  </div>

                </div>
                <div class="nav d-flex nav-pills me-3 mb-3 sliderImg" id="v-pills-tab2" role="tablist" aria-orientation="vertical">
                    <button class="nav-link mb-0 me-3 active " id="v-pills-{{product.pid}}-tab" data-bs-toggle="pill" data-bs-target="#v-pills-{{product.pid}}" type="button" role="tab" aria-controls="v-pills-{{product.pid}}" aria-selected="true"><img src="{{ product.image.url }}" class="product-detail-img-list" alt="{{ product.title }} image"></button>
                    {% for g in product_images %}
                    <button class="nav-link mb-0 me-3" id="v-pills-{{g.gid}}-tab" data-bs-toggle="pill" data-bs-target="#v-pills-{{g.gid}}" type="button" role="tab" aria-controls="v-pills-{{g.gid}}" aria-selected="true"><img src="{{ g.image.url }}" class="product-detail-img-list" alt="{{ g.alt }}"></button>
                    {% endfor %}
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-5">
            <div class="shop_single_product_details shop_single3_style ps-0 ps-xl-4 mt-4 mt-xl-0">
              <h4 class="title mb15">{{ product.title }}</h4>
              <ul class="d-flex gap-2 title-small">
                <li class="mxf-3">
                  <div class="sspfd_review">
                    <ul class="mbf0">
                      

                      {% if product.rating_count == 0 %}
                      <li class="list-inline-item ml-2 mr-2"><a href="#"><i class="fas fa-star"></i></a></li>
                      {% endif %}
                      
                      {% if product.product_rating >= 1 and product.product_rating < 2 %}
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      {% endif %}

                      {% if product.product_rating >= 2 and product.product_rating < 3 %}
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      {% endif %}

                      {% if product.product_rating >= 3 and product.product_rating < 4 %}
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      {% endif %}

                      {% if product.product_rating >= 4 and product.product_rating < 5 %}
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      {% endif %}

                      {% if product.product_rating >= 5 and product.product_rating < 6 %}
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                      {% endif %}
                    </ul>
                  </div>
                </li>
                {% if product.rating_count == 0 %}
                  <li class="ml-2 mr-2 " style="margin-left: 6px; margin-right: 6px;">Pas encore évalué</li>
                {% else %}
                    <li>{{product.product_rating|floatformat:1}}/5.0 </li>
                    <li class="mx-3">{{product.rating_count}} valué{{product.rating_count|pluralize:"s"}} </li>
                {% endif %}
              </ul>
              <hr>
              
              <div class="sspd_price mt20" style="text-align: left;">{{cs}}{{product.price}} <small>
                
                {% if product.old_price != 0.00 %}
                <del class="mr10 discounted">{{cs}}{{product.old_price}}</del>
                {% endif %}
                  
              </small></div>
              <div class="gz-coins">
               <span> + {{product.gz_coins}} GZ Coin </span>
              </div>
              <hr>
              <div>


                
                <form>
                  {% csrf_token %}
                  {% for type in product.product_types.all %}
                  <div class="prop-title">{{type.title}}</div>
                  <div class="d-flex align-items-center gap-3">
                    {% for choice in type.choices.all %}
                    <div class="choice-input {% if forloop.first %} selected {% endif %}">
                      <input type="radio" id="{{ type.title }}_{{ choice.title }}" name="{{ type.title }}" value="{{ choice.title }}" {% if forloop.first %} checked {% endif %}>
                      {% if choice.image %}
                        <img src="{{choice.image.url}}" alt="{{choice.alt}}">
                      {% endif %}
                      <label for="{{ type.title }}_{{ choice.title }}" class="choice_input_label">{{ choice.title }}</label>
                    </div>
                    {% endfor %}
                  </div>
                  <hr>
                  {% endfor %}
                  {% comment %} <button type="submit">Submit</button> {% endcomment %}
                </form>
              </div>
              <div class="shop_single_table style3 table-responsive">
                <table class="table table-borderless">
                  <thead>
                    <tr>
                      <th scope="col">Date de sortie</th>
                      <th scope="col">{{ product.release_date }}</th>
                    </tr>
                    <tr>
                      <th scope="col">Condition</th>
                      
                      {% if product.product_condition == "new" %}
                        <th scope="col">New <i class="fas fa-check-circle" style="color: green;"></i> </th>
                      {% endif %}
                      {% if product.product_condition == "old_2nd_hand" %}
                      <th scope="col">2nd Hand / Old Product <a href="#openModal-about" class="dashed-custom" style="font-size: 12px;"> (View Details)</a></th>

                      {% endif %}
                      
                      {% if product.product_condition == "old" %}
                      <th scope="col">Old Product <a href="#openModal-about" class="dashed-custom" style="font-size: 12px;"> (View Details)</a></th>
                      
                      {% endif %}
                      
                      {% if product.product_condition == "2nd_hand" %}
                        <th scope="col">2nd Hand Product <a href="#openModal-about" class="dashed-custom" style="font-size: 12px;"> (View Details)</a></th>
                      {% endif %}

                      {% if product.product_condition == "custom" %}
                      <th scope="col">Custom <a href="#openModal-about" class="dashed-custom" style="font-size: 12px;"> (View Details)</a></th>
                    {% endif %}
                    <!--modals-->
                      <div id="openModal-about" class="modalDialog">
                          <div>
                            <a href="#close" title="Close" class="close">X</a>
                            <h1>{{product.title|title}} </h1>
                            <hr>
                            <h4>Rating</h4>
                            <br>
                            <h4>{{ product.brand }} </h4>
                            <h5>{{ product.category }}</h5>
                          </div>
                      </div>


                      <!-- Button trigger modal -->
                      

                        
                        
                    </tr>

                      <th scope="col">Category</th>
                      <th scope="col">
                        <a href="{% url 'store:category-shop' product.category.meta_title %}" target="_blank">{{product.category|title}}</a>
                      </th>
                      {% comment %} <th scope="col">
                        {% for c in product.category.all|slice:"0:5" %}
                          <span class="shadow p-1" style="border-radius: 4px; font-size: 10px;" ><a href="{% url 'store:category_detail' c.cid %}" target="_blank">{{c.title|title}}</a></span>
                        {% endfor %}
                      </th> {% endcomment %}
                    </tr>
                    </tr>

                      <th scope="col">Brand</th>
                      <th scope="col">
                        <a href="{% url 'store:brand-shop' product.brand.meta_title %}" target="_blank">{{product.brand|title}}</a>
                      </th>
                      {% comment %} <th scope="col">
                        {% for c in product.category.all|slice:"0:5" %}
                          <span class="shadow p-1" style="border-radius: 4px; font-size: 10px;" ><a href="{% url 'store:category_detail' c.cid %}" target="_blank">{{c.title|title}}</a></span>
                        {% endfor %}
                      </th> {% endcomment %}
                    </tr>
                  </thead>
                </table>
              </div>
              <hr class="mb-4">
              <ul class="sspd_sku mb30">
                
                {% if product.tag %}
                <li>
                  <a href="#">
                    Tags: 
                    {% for t in product.tags.all %}
                      #<b>{{ t }}</b>
                    {% endfor %}
                  </a>
                </li>
                {% endif %}

                <li class="d-flex mt-3"><a class="clipboard " style="border-bottom: dashed 1px black; cursor: pointer;" id="clipboard"><i class="bi bi-link-45deg"></i> Share</a>
                  <span class="social_icons">
                    <ul class="mb0">
                      {% comment %} <li class="list-inline-item"><a href=""><i class="fab fa-facebook"></i></a></li> {% endcomment %}
                      <!-- <li class="list-inline-item"><a href=""><i class="fab fa-instagram"></i></a></li> -->
                    </ul>
                  </span>
                </li>
                </ul>
            </div>
          </div>
          
          <div class="col-xl-3">
            
            {% if product.type == "auction" %}
              {% if product.bidding_ended == False %}
                {% if request.user.is_authenticated %}
                  <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                    
                    {% if make_bid == True %}
                      <h4 class="ssfpd_price mb25 text-center">Starting Price - {{cs}}{{product.price}} </h4>
                      <form action="" method="POST">
                        {% csrf_token %}
                        <ul class="cart_btns ui_kit_button mb15">
                          <li>
                            <div class="cart_btn home_page_sidebar mb10">
                            <div class="quantity-block home_page_sidebar">
                              <input class="quantity-num2 shop_single_page_sidebar " name="bidding_amount" type="number" value="{{product.price}}" >
                            </div>
                          </div>
                        </li>
                          <li><button type="submit" class="w100 btn-custom">Bid Now</button></li>
                        </ul>
                      </form>
                    {% else %}
                      <h4 class="ssfpd_price mb25 text-center">My Bid Amount - {{cs}}{{my_bid_obj.price}} </h4>
                      <form action="" method="POST">
                        
                    {% endif %}
                    <ul class="shop_single_wishlist_area d-flex justify-content-center">
                      <li style="cursor: pointer;" class="pe-2 ms-2 ms-sm-0"><a  class="add-to-wishlist" data-product-item="{{product.id}}"><span class="fas fa-heart me-2"></span>Ajouter à la liste de vœux</a></li>
                    </ul>
                  </div>

                {% else %}
                <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                  <h4 class="ssfpd_price mb25 text-center">Starting Price - {{cs}}{{product.price}} </h4>
                  <div class="alert alert-warning text-center">
                    <strong><a href="{% url 'userauths:sign-in' %}?next={{request.path}}" class="dashed-custom">Login</a> or <a href="{% url 'userauths:sign-up' %}?next={{request.path}}" class="dashed-custom">Sign Up</a> to bid.</strong>
                  </div>
                </div>
                {% endif %}
                  <div class="shop_single_countdown mb-2 mt-3">
                    <h5 class="title color-light-green text-center" id="bidding-text">Bidding Ending In:</h5>
                    <div class="event_counter_plugin_container"  id="date-div">
                      <div class="event_counter_plugin_content">
                        <ul>
                          <li class="text-center text-uppercase"><span id="dayss"></span>days</li>
                          <li class="text-center text-uppercase"><span id="hourss"></span>Hours</li>
                          <li class="text-center text-uppercase"><span id="minutess"></span>Minutes</li>
                          <li class="text-center text-uppercase"><span id="secondss"></span>Seconds</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                <div class="col-lg-12 mt-4 mt40">
                  <div class="contact_page_content float-endd" style="margin-top: 50px;">
                    <div class="main-title">
                      <h4 class="mtitle">Top 3 Bidder(s)</h4>
                    </div>
                    {% for b in bidders %}
                    <div class="contact_iconbox d-flex mb30 shadow p-3 {% if b.winner == True %} alert-success{% endif %}" style="border-radius: 10px;">
                      <div class="icon"><img src="{{b.user.profile.image.url}}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 50%;" alt=""></div>
                      <div class="details ms-4">
                        <h4 class="title">{{b.user.username|title}} {% if b.user == winner.user and winner.winner == True %}(Winner <i class="bi bi-trophy-fill"></i>) {% endif %}</h4>
                        <a href="#">{{cs}}{{ b.price|floatformat:2 }}</a>
                      </div>
                    </div>
                    {% empty %}
                      <h5>No Bidders Yet</h5>
                    {% endfor %}
                    
                    {% if bidders %}
                    <a href="#openModal-bidders" class="dashed-custom" style="font-size: 18px;"> View Bidders</a>
                    {% endif %}
                      
                    <div id="openModal-bidders" class="modalDialog2">
                      <div>
                        <a href="#close" title="Close" class="close">X</a>
                        <h1>All Bidders</h1>
                        <hr>
                          <div style="overflow-y: scroll; height: 400px;">
                            {% for b in all_bidders %}
                                <div class="card-body">
                                  <div class="contact_iconfbox d-flex shadow p-3 {% if b.winner == True %} alert-success{% endif %}" style="border-radius: 10px; ">
                                    <div class="icon"><img src="{{b.user.profile.image.url}}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 50%;" alt=""></div>
                                    <div class="details ms-4">
                                      <h4 class="title">{{b.user.username|title}} {% if b.user == winner.user and winner.winner == True %}(Winner <i class="bi bi-trophy-fill"></i>) {% endif %}</h4>
                                      <a href="#">{{cs}}{{ b.price|floatformat:2 }}</a>
                                    </div>
                                  </div>
                                </div>
                            {% empty %}
                            <h5>No Bidders Yet</h5>
                            {% endfor %}
                          </div>
                      </div>
                    </div>
                    <!-- <div class="contact_icon_box mt30">
                      <label class="dropdown">
                        <div class="dd-button">View All Bidders</div>
                        
                        <input type="checkbox" class="dd-input" id="test">
                        <ul class="dd-menu">
                          {% for b in all_bidders %}
                                <div class="card-body ">
                                  <div class="contact_iconbox d-flex shadow p-3 {% if b.winner == True %} alert-success{% endif %}" style="border-radius: 10px;">
                                    <div class="icon"><img src="{{b.user.profile.image.url}}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 50%;" alt=""></div>
                                    <div class="details ms-4">
                                      <h4 class="title">{{b.user.username|title}} {% if b.user == winner.user and winner.winner == True %}(Winner <i class="bi bi-trophy-fill"></i>) {% endif %}</h4>
                                      <a href="#">{{cs}}{{ b.price|floatformat:2 }}</a>
                                    </div>
                                  </div>
                                </div>
                            {% empty %}
                            <h5>No Bidders Yet</h5>
                            {% endfor %}
                        </ul>
                      </label>
                     
                    </div> -->
                  </div>
                </div>
              {% else %}
              <div class="shop_single_countdown mb-2 mt-3">
                <h5 class="title color-light-green" id="bidding-text">Bidding Ending In:</h5>
                <div class="event_counter_plugin_container"  id="date-div">
                  <div class="event_counter_plugin_content">
                    <ul>
                      <li class="text-center text-uppercase"><span id="dayss"></span>days</li>
                      <li class="text-center text-uppercase"><span id="hourss"></span>Hours</li>
                      <li class="text-center text-uppercase"><span id="minutess"></span>Minutes</li>
                      <li class="text-center text-uppercase"><span id="secondss"></span>Seconds</li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact_page_content float-endd" style="margin-top: 50px;">
                <div class="main-title">
                  <h4 class="mtitle">Top 3 Bidder(s)</h4>
                </div>
                {% for b in bidders %}
                <div class="contact_iconbox d-flex mb30 shadow p-3 {% if b.winner == True %} alert-success{% endif %}" style="border-radius: 10px;">
                  <div class="icon"><img src="{{b.user.profile.image.url}}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 50%;" alt=""></div>
                  <div class="details ms-4">
                    <h4 class="title">{{b.user.username|title}} {% if b.user == winner.user and winner.winner == True %}(Winner <i class="bi bi-trophy-fill"></i>) {% endif %}</h4>
                    <a href="#">{{cs}}{{ b.price|floatformat:2 }}</a>
                  </div>
                </div>
                {% empty %}
                  <h5>No Bidders Yet</h5>
                {% endfor %}
                <a href="#openModal-bidders" class="dashed-custom" style="font-size: 18px;"> View Bidders</a>
                <div id="openModal-bidders" class="modalDialog2">
                  <div>
                    <a href="#close" title="Close" class="close">X</a>
                    <h1>All Bidders</h1>
                    <hr>
                    <div style="overflow-y: scroll; height: 400px;">
                      {% for b in all_bidders %}
                          <div class="card-body">
                            <div class="contact_iconfbox d-flex shadow p-3 {% if b.winner == True %} alert-success{% endif %}" style="border-radius: 10px; ">
                              <div class="icon"><img src="{{b.user.profile.image.url}}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 50%;" alt=""></div>
                              <div class="details ms-4">
                                <h4 class="title">{{b.user.username|title}} {% if b.user == winner.user and winner.winner == True %}(Winner <i class="bi bi-trophy-fill"></i>) {% endif %}</h4>
                                <a href="#">{{cs}}{{ b.price|floatformat:2 }}</a>
                              </div>
                            </div>
                          </div>
                      {% empty %}
                      <h5>No Bidders Yet</h5>
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
              {% endif %}

            {% endif %}
            
            {% if product.type == "offer" %}
              {% if make_offer == True %}
              <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                <div class="sspd_price mb25">Enter a custom price and submit offer now.</div>
                <ul class="cart_btns ui_kit_button mb15">
                  
                  {% if request.user.is_authenticated %}
                    <form action="" method="POST">
                      {% csrf_token %}
                      <li>
                        <div class="carft_btn home_pagef_sidebar mb10">
                        <div class="quantity-blfock home_page_sidebar">
                          <input class="quantity-num2 shop_single_page_sidebar " placeholder="Starting at {{product.price}}" name="offer_amount" type="number" >
                          <label class="dropdown text-center mt-4 mb-4" >
                            <div class="dd-buttonf  shop_single_page_sidebar" style="text-align: center; cursor: pointer;"> <span class="dashed-custom">Add a message for vendor</span> </div>
                            <input type="checkbox" class="dd-input " id="test">
                            <ul class="dd-menuf">
                            <input type="text" class="form-control w100 w-100" style="width: 300px;" name="custom_message" placeholder="Write message to vendor...">
                            
                            </ul>
                          </label>
                        </div>
                      </div>
                    </li>
                    <li class="text-center" >NOTE: Currency is in {{ ca }}({{cs}})</li>
                    <li><button type="submit" class="btn btn-fthm purple-btn w100" style="color: #fff;">Submit Price Offer</button></li>
                  </form>
                {% else %}
                  <div class="alert alert-warning text-center">
                    <strong><a href="{% url 'userauths:sign-in' %}?next={{request.path}}" class="dashed-custom">Login</a> or <a href="{% url 'userauths:sign-up' %}?next={{request.path}}" class="dashed-custom">Sign Up</a> to bid.</strong>
                  </div>
                {% endif %}
                    
                  
                  <!-- <button type="submit" class="button button-add-to-cart add-to-cart-btn" data-index="{{ p.id }}" id="add-to-cart-btn"><i class="fi-rs-shopping-cart"></i>Acheter</button> -->
                </ul>
                <ul class="shop_single_wishlist_area d-flex justify-content-center">
                  <li class="pe-2 ms-2 ms-sm-0"><a  class="add-to-wishlist" data-product-item="{{product.id}}"><span class="fas fa-heart me-2"></span>Ajouter à la liste de vœux</a></li>
                </ul>

              </div>
              {% else %}
              
              {% if my_offer_obj.status == "accept" %}
              <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                <div class="sspd_price mb25 text-center text-success">Offer Accepted <i class="fas fa-check-circle"></i></div>
                <ul class="cart_btns ui_kit_button mb15">
                  <input type="hidden" class="product-tax-fee-{{ product.id }}" value="{{ new_rate_|floatformat:2 }}" />
                  <input type="hidden" class="product-processing-fee-{{ product.id }}" value="{{ service_fee_rate_ }}" />
                  <input type="hidden" class="product-vendor-{{ product.id }}" value="{{ product.vendor.id }}" />
                  <input type="hidden" class="product-vendor-name-{{ product.id }}" value="{{ product.vendor.shop_name }}" />
                  <input type="hidden" class="product-shipping_amount-{{ product.id }}" value="{{ product.shipping_amount }}" />
                  <input type="hidden" class="product-quantity-{{ product.id }}" value="1" id="product-quantity" class="w-25 mb-10 product-quantity-{{ product.id }}" />
                  <input type="hidden" class="product-price-{{ product.id }}" value="{{ product.price }}" />
                  <input type="hidden" class="product-pid-{{ product.id }}" value="{{ product.pid }}" />
                  <input type="hidden" class="product-image-{{ product.id }}" value="{{ product.image.url }}" />
                  <input type="hidden" class="product-id-{{ product.id }}" value="{{ product.id }}" />
                  <input type="hidden" class="product-title-{{ product.id }}" value="{{ product.title }}" />
                  <input type="hidden" class="product-slug-{{ product.id }}" value="{{ product.slug }}" />
                  <input type="text" class="product-stock-qty-{{ product.id }}" value="{{ product.stock_qty }}" />
                  <input type="text" class="product-in-stock-{{ product.id }}" value="{{ product.in_stock }}" />

                  <li><button type="button" class="btn purple-btn w100 button-add-to-cart add-to-cart-btn" data-index="{{ product.id }}" id="add-to-cart-btn" style="color: #fff;">Acheter</button></li>
                </ul>
                <ul class="shop_single_wishlist_area d-flex justify-content-center">
                </ul>

              </div>
              {% endif %}

              
              {% if my_offer_obj.status == "reject" %}

              <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                <div class="sspd_price mb25 text-center">Offer Rejected</div>
                <ul class="cart_btns ui_kit_button mb15">
                  <li><button type="button" class="btn d-thm purple-btn w100 " style="color: #fff;">Keep Shopping</button></li>
                </ul>
                <ul class="shop_single_wishlist_area d-flex justify-content-center">
                </ul>

              </div>

              {% endif %}
                
              
              {% endif %}
            {% endif %}

            {% if product.type == "regular" %}
              <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                <div class="sspd_price mb25" style="text-align: center;">{{cs}}{{product.price}} <small>
                  {% if product.old_price != 0.00 %}
                  <del class="mr10 discounted">{{cs}}{{product.old_price}}</del>
                  {% endif %}
                </small></div>
                <ul class="cart_btns ui_kit_button mb15">
                  <li>
                    <div class="cart_btn home_page_sidebar mb10">
                      <div class="quantity-block home_page_sidebar">
                        <button class="quantity-arrow-minus2 shop_single_page_sidebar" id="decrease-btn"> <i class="fas fa-minus"></i> </button>
                        <input type="hidden" class="product-image-{{ product.id }}" value="{{ product.image.url }}" >
                        <input class="quantity-num2 shop_single_page_sidebar product-quantity-{{ product.id }}" type="number" value="1" id="product-quantity" class="w-25 mb-10 product-quantity-{{ product.id }}">
                        <button class="quantity-arrow-plus2 button-inc "  id="increase-btn"> <i class="fas fa-plus"></i> </button>
                      </div>
                    </div>
                  </li>
                  
                  <!-- <input type="hidden" class="product-new-rate{{ product.id }}" value="{{ new_rate }}"> -->
                  
                  <input type="hidden" class="product-tax-fee-{{ product.id }}" value="{{ new_rate_|floatformat:2 }}" />
                  <input type="hidden" class="product-processing-fee-{{ product.id }}" value="{{ service_fee_rate_ }}" />
                  <input type="hidden" class="product-vendor-{{ product.id }}" value="{{ product.vendor.id }}" />
                  <input type="hidden" class="product-vendor-name-{{ product.id }}" value="{{ product.vendor.shop_name }}" />
                  <input type="hidden" class="product-brand-{{ product.id }}" value="{{ product.brand }}" />
                  
                  <input type="hidden" class="product-types_choices-{{ product.id }}" value="{}" />
                  <input type="hidden" class="product-gz_coins-{{ product.id }}" value="{{ product.gz_coins }}" />
                  <input type="hidden" class="product-shipping_amount-{{ product.id }}" value="{{ product.shipping_amount }}" />
                  <input type="hidden" class="product-quantity-{{ product.id }}" value="{{ product.stock_qty }}" id="product-quantity" class="w-25 mb-10 product-quantity-{{ product.id }}" />
                  <input type="hidden" class="product-price-{{ product.id }}" value="{{ product.price }}" />
                  <input type="hidden" class="product-pid-{{ product.id }}" value="{{ product.pid }}" />
                  <input type="hidden" class="product-image-{{ product.id }}" value="{{ product.image.url }}" />
                  <input type="hidden" class="product-id-{{ product.id }}" value="{{ product.id }}" />
                  <input type="hidden" class="product-title-{{ product.id }}" value="{{ product.title }}" />

                  <input type="hidden" class="product-is_digital-{{ product.id }}" value="{{ product.digital }}" />
                  
                  <input type="hidden" class="product-meta-title-{{ product.id }}" value="{{ product.meta_title }}" />
                  <input type="hidden" class="product-meta_title-{{ product.id }}" value="{{ product.meta_title }}" />
                  <input type="hidden" class="product-slug-{{ product.id }}" value="{{ product.slug }}" />                      
                  <input type="hidden" class="product-vendor-slug-{{ p.id }}" value="{{ product.vendor.slug }}" />
                  
                  <input type="hidden" class="product-stock-qty-{{ product.id }}" value="{{ product.stock_qty }}" />
                  <input type="hidden" class="product-in-stock-{{ product.id }}" value="{{ product.in_stock }}" />

                  {% if disable_button %}
                  <li><button type="button" class="btn purple-btn btnf-thm w100 button-add-to-cart add-to-cart-btn" data-index="{{ product.id }}" id="add-to-cart-btn repture" style="color: #fff;"  disabled>en repture de stock</button></li>
                  {% else %}
                  <li><button type="button" class="btn purple-btn btnf-thm w100 button-add-to-cart add-to-cart-btn" data-index="{{ product.id }}" id="add-to-cart-btn" style="color: #fff;">ajouter au panier</button></li>
                  {% endif %}
                  
                  
                  <!-- <button type="submit" class="button button-add-to-cart add-to-cart-btn" data-index="{{ p.id }}" id="add-to-cart-btn"><i class="fi-rs-shopping-cart"></i>acheter</button> -->
                </ul>
                <ul class="shop_single_wishlist_area d-flex justify-content-center">
                  <li class="pe-2 ms-2 ms-sm-0"><a  class="add-to-wishlist" data-product-item="{{product.id}}"><span class="fas fa-heart me-2"></span>Ajouter à la liste de vœux</a></li>
                  <!-- <li class="pe-2 ms-2"><a href="#"><span class="flaticon-graph me-2"></span>Compare</a></li> -->
                </ul>
                <hr>
                
              </div>
            {% endif %}

            {% if product.type == "pre_order" %}
              <div class="shop_single_product_details shop_single3_style sidebar ss3_style mb-3 mb-xl-0">
                <div class="sspd_price mb25" style="text-align: center;">{{cs}}{{product.price}} <small>
                  {% if product.old_price != 0.00 %}
                  <del class="mr10 discounted">{{cs}}{{product.old_price}}</del>
                  {% endif %}
                </small></div>
                <ul class="cart_btns ui_kit_button mb15">
                  <li>
                    <div class="cart_btn home_page_sidebar mb10">
                      <div class="quantity-block home_page_sidebar">
                        <button class="quantity-arrow-minus2 shop_single_page_sidebar" id="decrease-btn"> <i class="fas fa-minus"></i> </button>
                        <input type="hidden" class="product-image-{{ product.id }}" value="{{ product.image.url }}" >
                        <input class="quantity-num2 shop_single_page_sidebar product-quantity-{{ product.id }}" type="number" value="1" id="product-quantity" class="w-25 mb-10 product-quantity-{{ product.id }}">
                        <button class="quantity-arrow-plus2 button-inc "  id="increase-btn"> <i class="fas fa-plus"></i> </button>
                      </div>
                    </div>
                  </li>
                  
                  <!-- <input type="hidden" class="product-new-rate{{ product.id }}" value="{{ new_rate }}"> -->
                  
                  <input type="hidden" class="product-tax-fee-{{ product.id }}" value="{{ new_rate_|floatformat:2 }}" />
                  <input type="hidden" class="product-processing-fee-{{ product.id }}" value="{{ service_fee_rate_ }}" />
                  <input type="hidden" class="product-vendor-{{ product.id }}" value="{{ product.vendor.id }}" />
                  <input type="hidden" class="product-vendor-name-{{ product.id }}" value="{{ product.vendor.shop_name }}" />
                  <input type="hidden" class="product-brand-{{ product.id }}" value="{{ product.brand }}" />
                  
                  <input type="hidden" class="product-types_choices-{{ product.id }}" value="{}" />
                  <input type="hidden" class="product-gz_coins-{{ product.id }}" value="{{ product.gz_coins }}" />
                  <input type="hidden" class="product-shipping_amount-{{ product.id }}" value="{{ product.shipping_amount }}" />
                  <input type="hidden" class="product-quantity-{{ product.id }}" value="{{ product.stock_qty }}" id="product-quantity" class="w-25 mb-10 product-quantity-{{ product.id }}" />
                  <input type="hidden" class="product-price-{{ product.id }}" value="{{ product.price }}" />
                  <input type="hidden" class="product-pid-{{ product.id }}" value="{{ product.pid }}" />
                  <input type="hidden" class="product-image-{{ product.id }}" value="{{ product.image.url }}" />
                  <input type="hidden" class="product-id-{{ product.id }}" value="{{ product.id }}" />
                  <input type="hidden" class="product-title-{{ product.id }}" value="{{ product.title }}" />

                  <input type="hidden" class="product-is_digital-{{ product.id }}" value="{{ product.digital }}" />
                  
                  <input type="hidden" class="product-meta-title-{{ product.id }}" value="{{ product.meta_title }}" />
                  <input type="hidden" class="product-meta_title-{{ product.id }}" value="{{ product.meta_title }}" />
                  <input type="hidden" class="product-slug-{{ product.id }}" value="{{ product.slug }}" />                      
                  <input type="hidden" class="product-vendor-slug-{{ p.id }}" value="{{ product.vendor.slug }}" />
                  
                  <input type="hidden" class="product-stock-qty-{{ product.id }}" value="{{ product.stock_qty }}" />
                  <input type="hidden" class="product-in-stock-{{ product.id }}" value="{{ product.in_stock }}" />

                  {% if disable_button %}
                  <li><button type="button" class="btn purple-btn btnf-thm w100 button-add-to-cart add-to-cart-btn" data-index="{{ product.id }}" id="add-to-cart-btn" style="color: #fff;"  disabled>en repture de stock</button></li>
                  {% else %}
                  <li><button type="button" class="btn purple-btn btnf-thm w100 button-add-to-cart add-to-cart-btn" data-index="{{ product.id }}" id="add-to-cart-btn" style="color: #fff;">pre commander</button></li>
                  {% endif %}
                  
                  
                  <!-- <button type="submit" class="button button-add-to-cart add-to-cart-btn" data-index="{{ p.id }}" id="add-to-cart-btn"><i class="fi-rs-shopping-cart"></i>acheter</button> -->
                </ul>
                <ul class="shop_single_wishlist_area d-flex justify-content-center">
                  <li class="pe-2 ms-2 ms-sm-0"><a  class="add-to-wishlist" data-product-item="{{product.id}}"><span class="fas fa-heart me-2"></span>Ajouter à la liste de vœux</a></li>
                  <!-- <li class="pe-2 ms-2"><a href="#"><span class="flaticon-graph me-2"></span>Compare</a></li> -->
                </ul>
                <hr>
                
              </div>
            {% endif %}

          </div>
        </div>
        <div class="row mt30">
          <div class="col-lg-12">
            <div class="shop_single3_style ui_kit_tab style2">
              <!-- nav tab Nav List Start -->
              <ul class="nav nav-tabs mb15" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link mt-3 mt-xl-0 mb-0 me-3 me-xl-5 active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab" aria-controls="description" aria-selected="true">Description</button>
                </li>

                <li class="nav-item" role="presentation">
                  <button class="nav-link mt-3 mt-xl-0 mb-0 me-3 me-xl-5" id="specifications-tab" data-bs-toggle="tab" data-bs-target="#specifications" type="button" role="tab" aria-controls="specifications" aria-selected="false"><h2 style="font-size: 18px;">Spécifications</h2></button>
                </li>

                <li class="nav-item" role="presentation">
                  <button class="nav-link mt-3 mt-xl-0 mb-0 me-3 me-xl-5" id="qna-tab" data-bs-toggle="tab" data-bs-target="#qna" type="button" role="tab" aria-controls="qna" aria-selected="false">Questions et réponses</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link mt-3 mt-xl-0 mb-0" id="customerreview-tab" data-bs-toggle="tab" data-bs-target="#customerreview" type="button" role="tab" aria-controls="customerreview" aria-selected="false">Avis des clients</button>
                </li>
              </ul>
              <!-- nav tab Nav List End -->
              <!-- nav tab contents Start -->
              <div class="tab-content pt20 row" id="myTabContent">
                <div class="tab-pane fade show active col-lg-12" id="description" role="tabpanel" aria-labelledby="description-tab">
                  <div class="shop_single_description">
                    <p class="para">
                      {{product.description|safe}}
                    </p>
                    
                  </div>
                </div>
                <div class="tab-pane fade col-xl-8" id="details" role="tabpanel" aria-labelledby="details-tab">
                  <div class="shop_single_table table-responsive">
                    <table class="table table-striped table-borderless">
                      <thead>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="tab-pane fade col-xl-8" id="included" role="tabpanel" aria-labelledby="included-tab">
                  <div class="shop_item_list_features shop_single_style">
                    <ul class="mb0 order_list list-style-type-bullet">
                    </ul>
                  </div>
                </div>
                <div class="tab-pane fade col-xl-12" id="vendor" role="tabpanel" aria-labelledby="vendor-tab">

                  <div class="container">
                    <div class="row">
                      <div class="col-12 col-sm-12 col-md-12 col-lg-6">
                        <div class="card">
                          <!-- <img class="card-img-top" src="https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/oslo.jpg" alt="Bologna"> -->
                          <div class="card-body text-center">
                            <img class="avatar rounded-circle" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;" src="{{vendor.shop_image.url}}" alt="Bologna">
                            <h4 class="card-title">{{ product.vendor.shop_name|title }}</h4>
                            <p class="card-text">{{ product.vendor.shop_description|safe }}</p>
                            <a href="{% url 'core:inbox-detail' product.vendor.user.username %}" class="btn purple-btn">Message</a>
                            <a href="{% url 'vendor:vendor_shop_view_page' product.vendor.vid %}" class="btn purple-btn">Visit Store</a>

                            {% if request.user != vendor.user  %}
                              {% if request.user.is_authenticated %}
                                {% if request.user in product.vendor.followers.all %}
                                  <a id="follow" class="btn purple-btn followbtn{{vendor.id}}" data-vendor="{{product.vendor.id}}">Unfollow</a>
                                {% else %}
                                  <a id="follow" class="btn purple-btn followbtn{{vendor.id}}" data-vendor="{{product.vendor.id}}">Follow</a>
                                {% endif %}
                              {% else %}
                              <a  class="btn purple-btn " href="{% url 'userauths:sign-in' %}?=next{{request.path}}">Login to Follow Vendor</a>
                              {% endif %}
                            {% endif %}
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade col-xl-12" id="returnpolicy" role="tabpanel" aria-labelledby="returnpolicy-tab">
                  <p class="shipping_return_para mb-0 mt-3">{{ product.vendor.shop_policy|safe }}</p>
                </div>

                <div class="tab-pane fade col-xl-12" id="specifications" role="tabpanel" aria-labelledby="specifications-tab">
                  {% comment %} <p class="shipping_return_para mb-0 mt-3">{{ product.vendor.shop_policy|safe }}</p> {% endcomment %}
                  <div class="Specifications">
                    <div class="product-accordion-panel">
                        {% for spec in product.specifications.all %}
                        <div class="product-attribute-redesign">
                            <h3 class="product-attribute-group-name">{{ spec.title }}</h3>
                            <div class="col specifications js-productFeatures">
                                <table class="product-attribute-table-redesign">
                                    <tbody>
                                        {% for value in spec.values.all %}
                                        <tr>
                                            <th>{{ value.title }}</th>
                                            <td>{{ value.description }}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                  
                </div>

                <div class="tab-pane fade col-xl-12" id="qna" role="tabpanel" aria-labelledby="qna-tab">
                  <div class="row">
                    <div class="col-xl-8">
                      <div class="shop_single_qna">
                        <div class="search_field mt-3">
                          
                          {% if request.user.is_authenticated %}
                            <div class="blog_search_widget">
                              <div class="input-group" id="question-div">
                                <input type="text" id="question-input" class="form-control" placeholder="Have a question? Ask now" aria-label="Recipient's username">
                                <button class="btn btn-thfm purple-btn" data-pid="{{ product.id }}" id="question-btn" type="button" style="color: #fff;"><i class="bi bi-send-fill"></i></button>
                              </div>
                              <p id="q-alert"></p>
                            </div>
                            {% else %}
                            <h4>Hé, vous devez <a href="{% url 'userauths:sign-in' %}?next={{request.path}}" class="dashed-custom">Login</a> to ask a question or make an enquiry.</h4>
                          {% endif %}
                        </div>
                        {% for q in questions_answers %}
                          <div class="question_with_poster mt-3">
                            <h5 class="title">Q: {{q.question}}?</h5>
                            <p class="author">Interrogé par {{q.user.username|title}} - {{q.date|date:"d M, Y"}}</p>
                          </div>
                          <div class="question_with_answer mt-3 ms-3">
                            <h5 class="title">A: {{q.answer}}</h5>
                            <p class="author mb-0">Répondu par {{q.product.vendor.name|title}}</p>
                          </div>
                        {% endfor %}


                        
                        <!-- <div class="more_btn mt30 text-center">
                          <a href="#" class="btn btn-lg btn-white bdr_thm">Explore all questions</a>
                        </div> -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade col-xl-12" id="customerreview" role="tabpanel" aria-labelledby="customerreview-tab">
                  <div class="row">
                    <div class="col-lg-6 col-xl-4">
                      <div class="review_average mb30">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0">
                            {% if product.rating_count == 0 %}
                            <div class="title">0/5</div>
                            {% else %}
                            <div class="title">{{product.product_rating|floatformat:1}}</div>
                            {% endif %}
                          </div>
                          <div class="flex-grow-1 ms-3">
                            <div class="sspd_postdate">
                              <div class="sspd_review">
                                <ul class="mb0">
                                  {% if product.rating_count == 0 %}
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  {% endif %}
                                  
                                  {% if product.product_rating >= 1 and product.product_rating < 2 %}
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  {% endif %}

                                  {% if product.product_rating >= 2 and product.product_rating < 3 %}
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  {% endif %}

                                  {% if product.product_rating >= 3 and product.product_rating < 4 %}
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  {% endif %}

                                  {% if product.product_rating >= 4 and product.product_rating < 5 %}
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  {% endif %}

                                  {% if product.product_rating >= 5 and product.product_rating < 6 %}
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                  {% endif %}
                                </ul>
                              </div>
                            </div>
                            
                            {% if product.rating_count == 0 %}
                            <div class="total_review">0 review(s)</div>
                            {% else %}
                            <div class="total_review">{{ product.rating_count }} review(s)</div>
                            {% endif %}
                              
                          </div>
                        </div>
                      </div>
                      <div class="d-flex justify-content-between align-items-center single_line_review pr30 pr0-lg mb10">
                        <div class="me-1">5 star</div>
                        <div class="progress-bar mx-3">
                          <div class="progress-bar__bg"></div>
                          <div class="progress-bar__bar-100"></div>
                        </div>
                        <div class="heading-color">{{ five_star }}</div>
                      </div>
                      <div class="d-flex justify-content-between align-items-center single_line_review pr30 pr0-lg mb10">
                        <div class="me-1">4 star</div>
                        <div class="progress-bar mx-3">
                          <div class="progress-bar__bg"></div>
                          <div class="progress-bar__bar-80"></div>
                        </div>
                        <div class="heading-color">{{ four_star }}</div>
                      </div>
                      <div class="d-flex justify-content-between align-items-center single_line_review pr30 pr0-lg mb10">
                        <div class="me-1">3 star</div>
                        <div class="progress-bar mx-3">
                          <div class="progress-bar__bg"></div>
                          <div class="progress-bar__bar-60"></div>
                        </div>
                        <div class="heading-color">{{ three_star }}</div>
                      </div>
                      <div class="d-flex justify-content-between align-items-center single_line_review pr30 pr0-lg mb10">
                        <div class="me-1">2 star</div>
                        <div class="progress-bar mx-3">
                          <div class="progress-bar__bg"></div>
                          <div class="progress-bar__bar-40"></div>
                        </div>
                        <div class="heading-color">{{ two_star }}</div>
                      </div>
                      <div class="d-flex justify-content-between align-items-center single_line_review pr30 pr0-lg mb30">
                        <div class="me-1">1 star</div>
                        <div class="progress-bar mx-3">
                          <div class="progress-bar__bg"></div>
                          <div class="progress-bar__bar-20"></div>
                        </div>
                        <div class="heading-color">{{ one_star }}</div>
                      </div>
                      <!-- <div class="all_review_btn mb30">
                        <a href="#" class="btn btn-lg btn-white bdr_thm">Write Your Review</a>
                      </div> -->
                    </div>
                    <div class="col-xl-8">
                      
                      <h4 class="text-success" id="review-res"></h4>
                      {% if request.user.is_authenticated %}
                        
                        {% if make_review %}

                        <div class="bsp_reveiw_wrt">
                          
                          
                          
                          {% if "any_authenticated_user" in basic_addon.review_type %}
                            <form class="comments_form" method="POST" action="{% url 'store:add-review' product.id %}" id="commentForm">
                              {% csrf_token %}
                              
                              <div class="row">
                                <div class="col-md-12">
                                  <h4 class="title mb20">Ajouter un avis</h4>
                                  <h5 class="mb0">Votre évaluation de ce produit</h5>
                                  <div class="sspd_postdate vendor_single">
                                    <div class="sspd_review">
                                      {{review_form.rating }}
                                    </div>
                                  </div>
                                  <div class="form-group mt-4">
                                    <label class="heading-color mb10">Votr avis</label>
                                  </div>
                                </div>
                                  <div class="form-group">
                                    {{review_form.review}}
                                  </div>
                              
                                <div class="col-md-12">
                                  <br>
                                  <button type="submit" class="btn btnf-thm purple-btn" style="color: #fff;">Submit</button>
                                </div>
                              </div>
                            </form>
                          {% endif %}

                          {% if "only_purchased_user" in basic_addon.review_type  %}
                            {% if reviewer_status == True %}
                              <form class="comments_form" method="POST" action="{% url 'store:add-review' product.id %}" id="commentForm">
                                {% csrf_token %}
                                
                                <div class="row">
                                  <div class="col-md-12">
                                    <h4 class="title mb20">Ajouter un avis</h4>
                                    <h5 class="mb0">Votre évaluation de ce produit</h5>
                                    <div class="sspd_postdate vendor_single">
                                      <div class="sspd_review">
                                        {{review_form.rating }}
                                      </div>
                                    </div>
                                    <div class="form-group mt-4">
                                      <label class="heading-color mb10">Votr avis</label>
                                    </div>
                                  </div>
                                    <div class="form-group">
                                      {{review_form.review}}
                                    </div>
                                
                                  <div class="col-md-12">
                                    <br>
                                    <button type="submit" class="btn btnf-thm purple-btn" style="color: #fff;">Submit</button>
                                  </div>
                                </div>
                              </form>
                            {% endif %}

                            {% if reviewer_status == False %}
                              <div class="alert-warning p-4">
                                <strong>Vous devez acheter ce produit avant de pouvoir l'évaluer</strong>
                              </div>
                            {% endif %}
                          {% endif %}
                        </div>
                        {% endif %}
                      {% else %}
                      <h4>Hé, vous devez <a href="{% url 'userauths:sign-in' %}?next={{request.path}}" class="dashed-custom">Login</a> to add a review for this product</h4>
                      {% endif %}

                      <div class="product_single_content mb30 ">
                        <div class="mbp_pagination_comments">
                          <h5 class="mb30">{{reviews.count}} Avis(s) Pour ce produit</h5>
                          {% for r in reviews %}
                          <div class="border border-rounded-cus p-3 mb-3">

                          <div class="mbp_first d-flex align-items-center mb20  ">
                            <div class="flex-shrink-0"> <img src="{{r.user.profile.image.url}}" style="object-fit: cover; border-radius: 50%; width: 60px; height: 60px;" class="mr-3" alt="reviewer2.png"> </div>
                            <div class="flex-grow-1 ms-4">
                              <div class="d-block d-md-flex">
                                <div class="sspd_postdate me-2 mb10-sm">
                                  <div class="sspd_review">
                                    <ul class="mb0">
                                      {% if r.rating == 1 %}
                                        <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                      {% endif %}
                                      {% if r.rating == 2 %}
                                        <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                        <li class="list-inline-item"><a href="#"><i class="fas fa-star"></i></a></li>
                                      {% endif %}
                                      
                                    </ul>
                                  </div>
                                </div>
                                <h5 class="sub_title">{{r.product.title|title|truncatechars:"20"}}</h5>
                              </div>
                              <div class="review_post_meta">Reviewed by {% if r.user.profile.full_name == None or r.user.profile.full_name == "" %}{{ r.user.username|title }}{% else %}{{ r.user.profile.full_name|title }}{% endif %} - {{r.date|date:"d M, Y"}}</div>
                            </div>
                          </div>
                          <div class="review_content_para mb30">
                            <p class="mt15 mb30">{{ r.review }}</p>
                          </div>
                          
                          <div class="review_cansel_btns d-flex mb30">

                            
                            {% if request.user in r.helpful.all %}
                            <button class="btn me-2 helpful{{r.id}}" data-id="{{r.id}}" id="helpful">
                              <i class="fa-solid fa-thumbs-down" style="color: #912121;"></i>
                            </button>
                            {% else %}
                            <button class="btn me-2 helpful{{r.id}}" data-id="{{r.id}}" id="helpful">
                              <i class="fa-solid fa-thumbs-up " style="color: #2b5191;"></i>
                            </button>

                            <button class="btn me-2 helpful{{r.id}}" data-id="{{r.id}}" id="helpful">
                              <i class="fa-solid fa-thumbs-down" style="color: #912121;"></i>
                            </button>
                            {% endif %}
                            
                          </div>
                          <p class="text-success">{{ r.helpful.all.count }} J'ai trouvé ce commentaire utile</p>
                          <p class="text-success" id="alert{{r.id}}"></p>
                          </div>

                          {% endfor %}
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </div>
              </div>
              <!-- nav tab contents End -->
            </div>
          </div>
        </div>
      </div>
    </section>
      <!-- </div> -->
      <section class="deliver-divider pb40">
        <div class="container">
            <div class="row">
                <div class="col-lg-10">
                <div class="main-title text-center text-sm-start mb80-520 mb25-414">
                    <h2 class="title">Produit connexe</h2>
                </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                  <div class="shop_item_4grid_slider dots_none owl-theme owl-carousel">
                            
                    {% for p in product.related_products.all %}
                        
                    {% include 'store/product_list.html' %}
                    {% endfor %}
                    
                </div>
                </div>
            </div>
            
        </div>
    </section>

    <section class="deliver-divider pb40">
      <div class="container">
          <div class="row">
              <div class="col-lg-10">
              <div class="main-title text-center text-sm-start mb80-520 mb25-414">
                  <h2 class="title">Vous pouvez aussi aimer ❤️ </h2>
              </div>
              </div>
          </div>
          <div class="row">
              <div class="col-lg-12">
                <div class="shop_item_4grid_slider dots_none owl-theme owl-carousel">
                            
                  {% for p in product.suggested_products.all %}
                  {% include 'store/product_list.html' %}
                  {% endfor %}
                  
              </div>
              </div>
          </div>
          
      </div>
    </section>
  {% comment %} <script>
    var dayss = document.getElementById("dayss")
    var hourss = document.getElementById("hourss")
    var minutess = document.getElementById("minutess")
    var secondss = document.getElementById("secondss")

    var countDownDate = new Date({{product.ending_date|date:"U"}} * 1000);
    var x = setInterval(function() {
    var now = new Date().getTime();

    var distance = countDownDate - now;


    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);


    <!-- document.getElementById("demo").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s "; -->
    
    dayss.innerHTML = days
    hourss.innerHTML = hours
    minutess.innerHTML = minutes
    secondss.innerHTML = seconds

    if (distance < 0) {
      clearInterval(x);
      document.getElementById("date-div").classList.add("d-none");
      document.getElementById("bidding-text").innerHTML = "Bidding Ended";
      document.getElementById("bidding-text").style.color = "red";
      document.getElementById("bidding-text").classList.add('alert-danger')
      document.getElementById("bidding-text").classList.add('p-4')
      document.getElementById("bidding-text").classList.add('rounded')
      }
    }, 1000);
  </script> {% endcomment %}

  <script>
    $(document).on("click", '#increase-btn' ,function(){
      var input_value = $('#product-quantity').val()
      
      if (input_value >= 0){
        input_value++
        $('#product-quantity').val(input_value)
      }
      
        
    })
    console.log('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffsss')
    document.getElementById('add-to-cart-btn').addEventListener('click', function(event) {
      console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")
      
      // Construct JSON object of selected choices
      var selectedChoices = {};
      {% for type in product.product_types.all %}
        selectedChoices["{{ type.title }}"] = document.querySelector('input[name="{{ type.title }}"]:checked').value;
      {% endfor %}
      
      // Update value of hidden input field
      var hiddenInput = document.querySelector('.product-types_choices-{{ product.id }}');
      console.log(JSON.stringify(selectedChoices))
      hiddenInput.value = JSON.stringify(selectedChoices);
      
      // Now you can submit the form
      {% comment %} this.submit(); {% endcomment %}
    });
    $(document).on("click", '#decrease-btn' ,function(){
      var input_value = $('#product-quantity').val()
      
      if (input_value > 0){
        input_value--
        $('#product-quantity').val(input_value)
      }

      if (input_value === 0){
        $('#product-quantity').val(1)

      }
      
        
    })
  </script>


<script>
  var $temp = $("<input>");
  var $url = $(location).attr('href');

  $('.clipboard').on('click', function() {
    $("body").append($temp);
    $temp.val($url).select();
    document.execCommand("copy");
    $temp.remove();
    $("#clipboard").text("URL copied!");
  })
</script>
<script>
    // Get all type containers
    const typeContainers = document.querySelectorAll('.d-flex');

    // Add change event listener to each type container
    typeContainers.forEach(function(container) {
        const radios = container.querySelectorAll('input[type="radio"]');
        radios.forEach(function(radio) {
            radio.addEventListener('change', function() {
                // Remove 'selected' class from all elements in this type container
                container.querySelectorAll('.choice-input').forEach(function(choiceInput) {
                    choiceInput.classList.remove('selected');
                });

                // Add 'selected' class to the parent div of the selected input
                if (radio.checked) {
                    radio.parentElement.classList.add('selected');
                }
            });
        });
    });

</script>
{% endblock content %}