{% extends "gz/base.html" %} {% load static %} {% block head %} {% block title %}<title>Catalogue</title>{% endblock title %} <link rel="stylesheet" href="{% static "gz/styles/catalog.css" %}"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/> <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> <script src="https://code.jquery.com/jquery-3.7.1.js"></script> <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"> <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script> <title>GameZone | Catalogue</title> {% endblock head %} {% block header %} {% include "gz/components/navigation.html" %} {% endblock header %} {% block main %} <div class="main__catalog flexCenter"> <div class="catalog__header"> <div class='products-catalog-pattren'> <a href="/catalog?category={{parent_category.id}}">{{parent_category.name}}</a>{% if parent_category %}/{% endif %} {% for subcategory in full_full_path %} <a href="/catalog?subcategory={{ subcategory.1 }}">{{ subcategory.0 }}</a>/ {% endfor %} </div> <h1 class="catalog__h1">Catalogue</h1> <p class='products-count'>{{products.all.count}} Résultats</p> <div class="filter__div"> <button class="filter__button"><i class="fa-solid fa-filter"></i>Filtre</button> <div class="filter_box"> <button id='sortButton' class="filter__button sort__button"><i class="fa-solid fa-sort"></i> Trier</button> <div class="dropdown-menu sort-dropdown-menu show" aria-labelledby="sortby-dropdown" style="display:none;"> <span class="sort-by-up-arrow"></span> <a class="dropdown-item price-low-to-high" data-id="price-low-to-high">Prix croissant</a> <a class="dropdown-item price-high-to-low" data-id="price-high-to-low">Prix décroissant</a> </div> </div> </div> <form class="catalog__filter" method="post"> {% csrf_token %} <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Menu de filtre</h3> <i class="fa-solid fa-xmark closefilter"></i> </button> </div> <div class="catalog_container"> <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Fabricant</h3> <i class="fa-solid fa-plus"></i> </button> </div> <div class="catalog_filters catalogFilters"> <ul> {% for manufacturer in form.manufacturer.field.queryset %} <li> <div class="rating__container"> <input type="checkbox" name="manufacturer" id="manufacturer_{{ manufacturer.id }}" value="{{ manufacturer.id }}"> <label for="manufacturer_{{ manufacturer.id }}">{{ manufacturer.name }}</label> </div> </li> {% endfor %} </ul> </div> </div> <div class="catalog_container"> <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Catégories</h3> <i class="fa-solid fa-plus"></i> </button> </div> <div class="catalog_filters catalogFilters"> <ul> {% for category in form.category.field.queryset %} <li> <div class="rating__container"> <input type="checkbox" name="category" id="category_{{ category.id }}" value="{{ category.id }}"> <label for="category_{{ category.id }}">{{ category.name }}</label> </div> </li> {% endfor %} </ul> </div> </div> <div class="catalog_container"> <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Genres</h3> <i class="fa-solid fa-plus"></i> </button> </div> <div class="catalog_filters catalogFilters"> <ul> {% for genre in form.genre.field.queryset %} <li> <div class="rating__container"> <input type="checkbox" name="genre" id="genre_{{ genre.id }}" value="{{ genre.id }}"> <label for="genre_{{ genre.id }}">{{ genre.name }}</label> </div> </li> {% endfor %} </ul> </div> </div> <div class="catalog_container"> <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Couleurs</h3> <i class="fa-solid fa-plus"></i> </button> </div> <div class="catalog_filters catalogFilters"> <ul> {% for color in form.colors.field.queryset %} <li> <div class="rating__container"> <input type="checkbox" name="colors" id="color_{{ color.id }}" value="{{ color.id }}"> <label for="color_{{ color.id }}">{{ color.name }}</label> </div> </li> {% endfor %} </ul> </div> </div> <div class="catalog_container"> <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Tailles</h3> <i class="fa-solid fa-plus"></i> </button> </div> <div class="catalog_filters catalogFilters"> <ul> {% for size in form.sizes.field.queryset %} <li> <div class="rating__container"> <input type="checkbox" name="sizes" id="size_{{ size.id }}" value="{{ size.id }}"> <label for="size_{{ size.id }}">{{ size.name }}</label> </div> </li> {% endfor %} </ul> </div> </div> <div class="catalog_container"> <div class="catalog_header"> <button type="button" class="toggleFilters"> <h3>Prix</h3> <i class="fa-solid fa-plus"></i> </button> </div> <div class="catalog_filters catalogFilters"> <ul> <li> <div class="rating__container"> <div class="price-range-slider"> <p class="range-value"> <label for="amount">Plage de prix :</label> <input type="text" id="amount" readonly> </p> <div id="slider-range" class="range-bar"></div> </div> </div> </li> </ul> </div> </div> <div class="buttons-group"> <input type="submit" class="done-btn"> </div> </form> </div> <div class="catalog__div"> <div class="catalog__products"> <div class="products__div"> {% for product in products %} <div class="catalog__product product-grid-tile-wrapper" data-position="4" data-list-item-type="Product list"> <div id="product-grid-tile-grid-item" name="tile-render" class="product grid-tile" style="height:100%;"> <div name="product-tile" id="403500" class="product-tile product-detail gme-card gme-card--shadow product-tile-render loaded" data-pid="403500"> <a class="product-tile-link render-tile-link pdp-link" href="{% url 'store:product-detail' meta_title=product.meta_title %}"> <div id="render-tile-image" class="render-tile-image" style="background-image: url({{product.image.url}});" title="Super Smash Bros. Series Sora (Kingdom Hearts) amiibo"></div> <div id="render-tile-body" class="render-tile-body"> <div id="render-tile-header" class="render-tile-header"> <div id="render-tile-name" class="render-tile-name">{{product.title}}</div> </div> <div class="product-tile-availability">{{product.manufacturer}}</div> <div id="render-tile-price" class="render-tile-price"> <div id="render-base-group" class="render-base-group"> <div id="render-sale-price" class="render-sale-price">{{product.price}} DT</div> <div id="render-base-price" class="render-base-price"></div> </div> <div id="render-pro-group" class="render-pro-group"> <div id="render-pro-price" class="render-pro-price"></div> </div> </div> <div class="render-tile-release-date" style="display: none;"></div> <div class="render-tile-bops-copy"> <div style="margin-top: 10px; font-size: 14px"> <strong>25 DT GRATUITS</strong> pour votre commande en ligne lorsque vous la récupérez en magasin. (commandes de 999 DT et plus) </div> </div> </div> </a> <div class="render-promotion-badge-container"></div> </div> </div> </div> {% endfor %} </div> </div> </div> {% endblock main %} {% block scripts %} <script> VanillaTilt.init(document.querySelectorAll(".catalog__product"),{speed:400,glare:!0,"max-glare":.05,max:4}); var catalog__swiper=new Swiper(".catalog_swiper",{spaceBetween:10,freeMode:!0,grabCursor:!0,slidesPerView:1,centeredSlides:!0,roundLengths:!0,centeredSlidesBounds:!0,pagination:{el:".swiper-pagination",type:"bullets"},breakpoints:{375:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}}}); $(document).ready(function(){$(".toggleFilters").click(function(){$(this).find("i").toggleClass("fa-plus fa-minus"),$(this).nextAll(".catalogFilters").slideToggle()});var e=!1;$("#sortButton").click(function(){$(".sort-dropdown-menu").toggle(),e=!e}),$(document).mouseup(function(t){var n=$("#sortButton");e&&!n.is(t.target)&&0===n.has(t.target).length&&($(".sort-dropdown-menu").hide(),e=!1)}),$(".products-catalog-pattren a").last().css("color","#7fbd28")}),$(function(){$("#slider-range").slider({range:!0,min:0,max:2000,values:[500,1000],slide:function(e,t){$("#amount").val(t.values[0]+" TND - "+t.values[1]+" TND")}}),$("#amount").val($("#slider-range").slider("values",0)+" TND - "+$("#slider-range").slider("values",1)+" TND")});</script> {% endblock scripts %}